process TESTGRAPHDUMPER = { 

  include "EventFilter/EcalRawToDigiDev/data/EcalUnpackerMapping.cfi"
  #include "EventFilter/EcalRawToDigiDev/data/EcalUnpackerData.cfi"  

    module ecalEBunpacker = EcalRawToDigiDev{

      untracked string InputLabel="source"

#    by default whole ECAL fedId range is loaded, 600-670.
#    This is in case a selection was needed.
#    fedId==13 is special case for ECAL cosmic stand
#    example 1: all the feds allocated to ECAL DCC's are selected by providing this empty list
#        untracked vint32  FEDs    = { }
#    example 2: fedId used by the DCC at th cosmics stand
#            untracked vint32 FEDs = {13}
#    example 3: fedId used at the best beams (e.g. SM22)
#            untracked vint32 FEDs = {22}

        untracked vint32 FEDs = {0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35}

# By default these are true  
      untracked bool eventPut               = true 
        untracked bool memUnpacking     = true
        untracked bool headerUnpacking = true 
        untracked bool srpUnpacking       = true
#untracked bool tccUnpacking     = true
        untracked bool feUnpacking         = true
        untracked bool syncCheck           = false 

        untracked vint32 orderedFedList =   {1, 2, 3, 4, 5, 6, 7, 8, 9, 10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36}
      untracked vint32 orderedDCCIdList = {28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27}

      untracked bool DoRegional = false
        untracked string FedLabel = "listfeds"

    }

    module graphDumperModule = EcalPedHistDumperModule {

# selection on FED number in the barrel (1...36; 1 with TB unpacker)
      untracked vint32 listFEDs = {633, 640}

# specify list of channels to be dumped
      untracked vint32  listChannels = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10}

# sepecify list of samples to use
      untracked vint32 listSamples = {1,2,3}

      untracked string fileName =  'pedHistDumper'
        string EBdigiCollection = 'ebDigis'
        string EEdigiCollection = 'eeDigis'
        string digiProducer = 'ecalEBunpacker'
    }

  path p = {ecalEBunpacker, graphDumperModule}

  # input
  # all events
   untracked PSet maxEvents = {untracked int32 input = -1}
     #untracked PSet maxEvents = {untracked int32 input = 1000}
    source = PoolSource {
    #untracked uint32 skipEvents = 16000
      # SM06
      #untracked vstring fileNames = {'file:/data/whybee0c/user/cooper/data/h4b.00018539.A.0.0.root'}
      # SM13
      #untracked vstring fileNames = {'file:/data/whybee0c/user/cooper/data/h4b.00018568.A.0.0.root'}
      #multiple runs
      untracked vstring fileNames = {'file:/data/whybee0c/user/cooper/data/h4b.00018568.A.0.0.root',
        'file:/data/whybee0c/user/cooper/data/h4b.00018539.A.0.0.root'}
    }
}

