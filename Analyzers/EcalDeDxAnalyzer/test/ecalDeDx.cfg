process ecaldedx = {

# Magnetic field
include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
### initialize idealGeometry ###
include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
# Tracker Geometry Builder
include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
include "RecoTracker/GeometryESProducer/data/TrackerRecoGeometryESProducer.cfi"
# Tracker Numbering Builder
include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
# MeasurementTracker
include "RecoTracker/MeasurementDet/data/MeasurementTrackerESProducer.cfi"
# Tracking Truth
include "SimGeneral/TrackingAnalysis/data/trackingParticles.cfi"
# Calo geometry
include "Geometry/CaloEventSetup/data/CaloGeometry.cff"

include "CalibTracker/Configuration/data/Tracker_FakeConditions.cff"

#include "RecoEcal/EgammaClusterProducers/data/geometryForClustering.cff"

  untracked PSet maxEvents = {untracked int32 input = -1}

  source = PoolSource {
    #untracked vstring fileNames = {'file:reco.root'}
    untracked vstring fileNames = {'file:/data/scooper/data/hscp/singleHSCP_Reco_pt100800GeV_evt1k.root'}
    }

  module dedxana = EcalDeDxAnalyzer {
    InputTag EBRecHitCollection = ecalRecHit:EcalRecHitsEB
    InputTag EERecHitCollection = ecalRecHit:EcalRecHitsEE
    InputTag trackProducer = ctfWithMaterialTracks
    InputTag trackingParticleCollection = trackingParticles
    #double minTrackP = 1.0
    #double minTrackP = 0.05
    double minTrackPt = 100
    InputTag simTrackContainer = g4SimHits
    #untracked double mcParticleMass = .938
    untracked double mcParticleMass = 303
    #double dRTrack = .2
    double dRTrack = .1
  }

  path p1 = {dedxana}
}
